{"abi":[{"type":"function","name":"quoteFrom1kUSD","inputs":[{"name":"tokenOut","type":"address","internalType":"address"},{"name":"amountIn1k","type":"uint256","internalType":"uint256"},{"name":"feeBps","type":"uint16","internalType":"uint16"},{"name":"tokenOutDecimals","type":"uint8","internalType":"uint8"}],"outputs":[{"name":"q","type":"tuple","internalType":"struct IPSM.QuoteOut","components":[{"name":"grossOut","type":"uint256","internalType":"uint256"},{"name":"fee","type":"uint256","internalType":"uint256"},{"name":"netOut","type":"uint256","internalType":"uint256"},{"name":"outDecimals","type":"uint8","internalType":"uint8"}]}],"stateMutability":"view"},{"type":"function","name":"quoteTo1kUSD","inputs":[{"name":"tokenIn","type":"address","internalType":"address"},{"name":"amountIn","type":"uint256","internalType":"uint256"},{"name":"feeBps","type":"uint16","internalType":"uint16"},{"name":"tokenInDecimals","type":"uint8","internalType":"uint8"}],"outputs":[{"name":"q","type":"tuple","internalType":"struct IPSM.QuoteOut","components":[{"name":"grossOut","type":"uint256","internalType":"uint256"},{"name":"fee","type":"uint256","internalType":"uint256"},{"name":"netOut","type":"uint256","internalType":"uint256"},{"name":"outDecimals","type":"uint8","internalType":"uint8"}]}],"stateMutability":"view"},{"type":"function","name":"swapFrom1kUSD","inputs":[{"name":"tokenOut","type":"address","internalType":"address"},{"name":"amountIn1k","type":"uint256","internalType":"uint256"},{"name":"to","type":"address","internalType":"address"},{"name":"minOut","type":"uint256","internalType":"uint256"},{"name":"deadline","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"netOut","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"function","name":"swapTo1kUSD","inputs":[{"name":"tokenIn","type":"address","internalType":"address"},{"name":"amountIn","type":"uint256","internalType":"uint256"},{"name":"to","type":"address","internalType":"address"},{"name":"minOut","type":"uint256","internalType":"uint256"},{"name":"deadline","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"netOut","type":"uint256","internalType":"uint256"}],"stateMutability":"nonpayable"},{"type":"event","name":"FeeAccrued","inputs":[{"name":"asset","type":"address","indexed":true,"internalType":"address"},{"name":"amount","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SwapFrom1kUSD","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"tokenOut","type":"address","indexed":false,"internalType":"address"},{"name":"amountIn","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"fee","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"netOut","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"ts","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"SwapTo1kUSD","inputs":[{"name":"user","type":"address","indexed":true,"internalType":"address"},{"name":"tokenIn","type":"address","indexed":false,"internalType":"address"},{"name":"amountIn","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"fee","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"netOut","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"ts","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"error","name":"ACCESS_DENIED","inputs":[]},{"type":"error","name":"CAP_EXCEEDED","inputs":[]},{"type":"error","name":"DEVIATION_EXCEEDED","inputs":[]},{"type":"error","name":"INSUFFICIENT_LIQUIDITY","inputs":[]},{"type":"error","name":"ORACLE_STALE","inputs":[]},{"type":"error","name":"ORACLE_UNHEALTHY","inputs":[]},{"type":"error","name":"PAUSED","inputs":[]},{"type":"error","name":"SLIPPAGE","inputs":[]},{"type":"error","name":"UNSUPPORTED_ASSET","inputs":[]},{"type":"error","name":"ZERO_AMOUNT","inputs":[]}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"quoteFrom1kUSD(address,uint256,uint16,uint8)":"facf40c8","quoteTo1kUSD(address,uint256,uint16,uint8)":"94c5a378","swapFrom1kUSD(address,uint256,address,uint256,uint256)":"8318c76d","swapTo1kUSD(address,uint256,address,uint256,uint256)":"34f98bde"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[],\"name\":\"ACCESS_DENIED\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"CAP_EXCEEDED\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"DEVIATION_EXCEEDED\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"INSUFFICIENT_LIQUIDITY\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ORACLE_STALE\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ORACLE_UNHEALTHY\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"PAUSED\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"SLIPPAGE\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"UNSUPPORTED_ASSET\",\"type\":\"error\"},{\"inputs\":[],\"name\":\"ZERO_AMOUNT\",\"type\":\"error\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"asset\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amount\",\"type\":\"uint256\"}],\"name\":\"FeeAccrued\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountIn\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fee\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"netOut\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"ts\",\"type\":\"uint256\"}],\"name\":\"SwapFrom1kUSD\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"user\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"amountIn\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"fee\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"netOut\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"ts\",\"type\":\"uint256\"}],\"name\":\"SwapTo1kUSD\",\"type\":\"event\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amountIn1k\",\"type\":\"uint256\"},{\"internalType\":\"uint16\",\"name\":\"feeBps\",\"type\":\"uint16\"},{\"internalType\":\"uint8\",\"name\":\"tokenOutDecimals\",\"type\":\"uint8\"}],\"name\":\"quoteFrom1kUSD\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"grossOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"fee\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"netOut\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"outDecimals\",\"type\":\"uint8\"}],\"internalType\":\"struct IPSM.QuoteOut\",\"name\":\"q\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amountIn\",\"type\":\"uint256\"},{\"internalType\":\"uint16\",\"name\":\"feeBps\",\"type\":\"uint16\"},{\"internalType\":\"uint8\",\"name\":\"tokenInDecimals\",\"type\":\"uint8\"}],\"name\":\"quoteTo1kUSD\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"grossOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"fee\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"netOut\",\"type\":\"uint256\"},{\"internalType\":\"uint8\",\"name\":\"outDecimals\",\"type\":\"uint8\"}],\"internalType\":\"struct IPSM.QuoteOut\",\"name\":\"q\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenOut\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amountIn1k\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"minOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deadline\",\"type\":\"uint256\"}],\"name\":\"swapFrom1kUSD\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"netOut\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"tokenIn\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"amountIn\",\"type\":\"uint256\"},{\"internalType\":\"address\",\"name\":\"to\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"minOut\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"deadline\",\"type\":\"uint256\"}],\"name\":\"swapTo1kUSD\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"netOut\",\"type\":\"uint256\"}],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Errors/events are normative and ABI-locked via abi/locks/PSM.events.json.\",\"kind\":\"dev\",\"methods\":{\"quoteFrom1kUSD(address,uint256,uint16,uint8)\":{\"params\":{\"amountIn1k\":\"Amount in 1kUSD (18 decimals).\",\"feeBps\":\"Fee in basis points (from ParameterRegistry snapshot).\",\"tokenOut\":\"Asset user wants to receive.\",\"tokenOutDecimals\":\"ERC-20 decimals for tokenOut.\"}},\"quoteTo1kUSD(address,uint256,uint16,uint8)\":{\"params\":{\"amountIn\":\"Amount in tokenIn units.\",\"feeBps\":\"Fee in basis points (from ParameterRegistry snapshot).\",\"tokenIn\":\"Asset provided by user.\",\"tokenInDecimals\":\"ERC-20 decimals for tokenIn.\"}}},\"title\":\"IPSM \\u2014 Peg Stability Module (finalized interface v1)\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"quoteFrom1kUSD(address,uint256,uint16,uint8)\":{\"notice\":\"Quote tokenOut for a given 1kUSD amount in.\"},\"quoteTo1kUSD(address,uint256,uint16,uint8)\":{\"notice\":\"Quote 1kUSD out for a given tokenIn amount (no state change).\"}},\"notice\":\"Read surface for quotes; state-changing swaps with CEI and Safety guards.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/interfaces/IPSM.sol\":\"IPSM\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"]},\"sources\":{\"contracts/interfaces/IPSM.sol\":{\"keccak256\":\"0x7eda7a1cbf5c48bf38a4fd193194ad1bfff63878fb3d6df73d6f62e56a3dc1eb\",\"license\":\"AGPL-3.0\",\"urls\":[\"bzz-raw://89f52cad79493c9f15fe8b8d2d9aa466cdb23997f4699bac4acbf6dc2f889e7a\",\"dweb:/ipfs/QmNauJUKKp2gCdSXTaU594j5XnMsGp51Doi8BswNYyu2eB\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[],"type":"error","name":"ACCESS_DENIED"},{"inputs":[],"type":"error","name":"CAP_EXCEEDED"},{"inputs":[],"type":"error","name":"DEVIATION_EXCEEDED"},{"inputs":[],"type":"error","name":"INSUFFICIENT_LIQUIDITY"},{"inputs":[],"type":"error","name":"ORACLE_STALE"},{"inputs":[],"type":"error","name":"ORACLE_UNHEALTHY"},{"inputs":[],"type":"error","name":"PAUSED"},{"inputs":[],"type":"error","name":"SLIPPAGE"},{"inputs":[],"type":"error","name":"UNSUPPORTED_ASSET"},{"inputs":[],"type":"error","name":"ZERO_AMOUNT"},{"inputs":[{"internalType":"address","name":"asset","type":"address","indexed":true},{"internalType":"uint256","name":"amount","type":"uint256","indexed":false}],"type":"event","name":"FeeAccrued","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"address","name":"tokenOut","type":"address","indexed":false},{"internalType":"uint256","name":"amountIn","type":"uint256","indexed":false},{"internalType":"uint256","name":"fee","type":"uint256","indexed":false},{"internalType":"uint256","name":"netOut","type":"uint256","indexed":false},{"internalType":"uint256","name":"ts","type":"uint256","indexed":false}],"type":"event","name":"SwapFrom1kUSD","anonymous":false},{"inputs":[{"internalType":"address","name":"user","type":"address","indexed":true},{"internalType":"address","name":"tokenIn","type":"address","indexed":false},{"internalType":"uint256","name":"amountIn","type":"uint256","indexed":false},{"internalType":"uint256","name":"fee","type":"uint256","indexed":false},{"internalType":"uint256","name":"netOut","type":"uint256","indexed":false},{"internalType":"uint256","name":"ts","type":"uint256","indexed":false}],"type":"event","name":"SwapTo1kUSD","anonymous":false},{"inputs":[{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"amountIn1k","type":"uint256"},{"internalType":"uint16","name":"feeBps","type":"uint16"},{"internalType":"uint8","name":"tokenOutDecimals","type":"uint8"}],"stateMutability":"view","type":"function","name":"quoteFrom1kUSD","outputs":[{"internalType":"struct IPSM.QuoteOut","name":"q","type":"tuple","components":[{"internalType":"uint256","name":"grossOut","type":"uint256"},{"internalType":"uint256","name":"fee","type":"uint256"},{"internalType":"uint256","name":"netOut","type":"uint256"},{"internalType":"uint8","name":"outDecimals","type":"uint8"}]}]},{"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"uint16","name":"feeBps","type":"uint16"},{"internalType":"uint8","name":"tokenInDecimals","type":"uint8"}],"stateMutability":"view","type":"function","name":"quoteTo1kUSD","outputs":[{"internalType":"struct IPSM.QuoteOut","name":"q","type":"tuple","components":[{"internalType":"uint256","name":"grossOut","type":"uint256"},{"internalType":"uint256","name":"fee","type":"uint256"},{"internalType":"uint256","name":"netOut","type":"uint256"},{"internalType":"uint8","name":"outDecimals","type":"uint8"}]}]},{"inputs":[{"internalType":"address","name":"tokenOut","type":"address"},{"internalType":"uint256","name":"amountIn1k","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"minOut","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"swapFrom1kUSD","outputs":[{"internalType":"uint256","name":"netOut","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"tokenIn","type":"address"},{"internalType":"uint256","name":"amountIn","type":"uint256"},{"internalType":"address","name":"to","type":"address"},{"internalType":"uint256","name":"minOut","type":"uint256"},{"internalType":"uint256","name":"deadline","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"swapTo1kUSD","outputs":[{"internalType":"uint256","name":"netOut","type":"uint256"}]}],"devdoc":{"kind":"dev","methods":{"quoteFrom1kUSD(address,uint256,uint16,uint8)":{"params":{"amountIn1k":"Amount in 1kUSD (18 decimals).","feeBps":"Fee in basis points (from ParameterRegistry snapshot).","tokenOut":"Asset user wants to receive.","tokenOutDecimals":"ERC-20 decimals for tokenOut."}},"quoteTo1kUSD(address,uint256,uint16,uint8)":{"params":{"amountIn":"Amount in tokenIn units.","feeBps":"Fee in basis points (from ParameterRegistry snapshot).","tokenIn":"Asset provided by user.","tokenInDecimals":"ERC-20 decimals for tokenIn."}}},"version":1},"userdoc":{"kind":"user","methods":{"quoteFrom1kUSD(address,uint256,uint16,uint8)":{"notice":"Quote tokenOut for a given 1kUSD amount in."},"quoteTo1kUSD(address,uint256,uint16,uint8)":{"notice":"Quote 1kUSD out for a given tokenIn amount (no state change)."}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","ds-test/=lib/openzeppelin-contracts/lib/forge-std/lib/ds-test/src/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/interfaces/IPSM.sol":"IPSM"},"evmVersion":"paris","libraries":{}},"sources":{"contracts/interfaces/IPSM.sol":{"keccak256":"0x7eda7a1cbf5c48bf38a4fd193194ad1bfff63878fb3d6df73d6f62e56a3dc1eb","urls":["bzz-raw://89f52cad79493c9f15fe8b8d2d9aa466cdb23997f4699bac4acbf6dc2f889e7a","dweb:/ipfs/QmNauJUKKp2gCdSXTaU594j5XnMsGp51Doi8BswNYyu2eB"],"license":"AGPL-3.0"}},"version":1},"id":18}