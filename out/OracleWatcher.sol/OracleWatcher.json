{"abi":[{"type":"constructor","inputs":[{"name":"_oracle","type":"address","internalType":"contract IOracleAggregator"},{"name":"_safety","type":"address","internalType":"contract ISafetyAutomata"}],"stateMutability":"nonpayable"},{"type":"function","name":"getStatus","inputs":[],"outputs":[{"name":"","type":"uint8","internalType":"enum IOracleWatcher.Status"}],"stateMutability":"view"},{"type":"function","name":"isHealthy","inputs":[],"outputs":[{"name":"","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"oracle","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract IOracleAggregator"}],"stateMutability":"view"},{"type":"function","name":"refreshState","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"safetyAutomata","inputs":[],"outputs":[{"name":"","type":"address","internalType":"contract ISafetyAutomata"}],"stateMutability":"view"},{"type":"function","name":"updateHealth","inputs":[],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"HealthUpdated","inputs":[{"name":"status","type":"uint8","indexed":false,"internalType":"enum IOracleWatcher.Status"},{"name":"timestamp","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false}],"bytecode":{"object":"0x6080604052348015600f57600080fd5b506040516104b43803806104b4833981016040819052602c91608d565b600080546001600160a01b039384166001600160a01b031991821617909155600180549290931691161790556002805460ff199081169091556004805490911690554260035560c2565b6001600160a01b0381168114608a57600080fd5b50565b60008060408385031215609f57600080fd5b825160a8816076565b602084015190925060b7816076565b809150509250929050565b6103e3806100d16000396000f3fe608060405234801561001057600080fd5b50600436106100625760003560e01c8063276598a0146100675780634ce37be9146100715780634e69d560146100a15780637dc0d1d0146100b4578063d849e94f146100c7578063e4020804146100cf575b600080fd5b61006f6100e7565b005b600154610084906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b60025460ff166040516100989190610326565b600054610084906001600160a01b031681565b61006f6102b2565b6100d76102bc565b6040519015158152602001610098565b600080546040805163cd905dff60e01b8152905183926001600160a01b03169163cd905dff9160048083019260209291908290030181865afa92505050801561014d575060408051601f3d908101601f1916820190925261014a9181019061033a565b60015b156101555791505b60018054604051602481019290925260009182916001600160a01b03169060440160408051601f198184030181529181526020820180516001600160e01b031663bc61e73360e01b179052516101ab9190610363565b600060405180830381855afa9150503d80600081146101e6576040519150601f19603f3d011682016040523d82523d6000602084013e6101eb565b606091505b50915091508180156101ff57506020815110155b1561021b5780806020019051810190610218919061033a565b92505b821561023a57600280546001919060ff191682805b021790555061025c565b836102515760028054819060ff1916600182610230565b6002805460ff191690555b4260038190556004805460ff191660011790556002546040517f881f547fae2c6c81a79b64f116928d8c615c5692a446d1040f1daa003eed6187926102a49260ff1691610392565b60405180910390a150505050565b6102ba6100e7565b565b60045460009060ff166102cf5750600190565b60006002805460ff16908111156102e8576102e86102ee565b14905090565b634e487b7160e01b600052602160045260246000fd5b6003811061032257634e487b7160e01b600052602160045260246000fd5b9052565b602081016103348284610304565b92915050565b60006020828403121561034c57600080fd5b8151801515811461035c57600080fd5b9392505050565b6000825160005b81811015610384576020818601810151858301520161036a565b506000920191825250919050565b604081016103a08285610304565b826020830152939250505056fea264697066735822122026fbfc6525c66d5ff6a3adf3c9d95ef06c78ca4f36936291b7749eeb8b0ab7d764736f6c634300081e0033","sourceMap":"353:1722:26:-:0;;;681:250;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;755:6;:16;;-1:-1:-1;;;;;755:16:26;;;-1:-1:-1;;;;;;755:16:26;;;;;;;-1:-1:-1;781:24:26;;;;;;;;;;;815:7;:31;;-1:-1:-1;;815:31:26;;;;;;856:14;:22;;;;;;;909:15;888:18;:36;353:1722;;14:150:66;-1:-1:-1;;;;;108:31:66;;98:42;;88:70;;154:1;151;144:12;88:70;14:150;:::o;169:473::-;298:6;306;359:2;347:9;338:7;334:23;330:32;327:52;;;375:1;372;365:12;327:52;407:9;401:16;426:50;470:5;426:50;:::i;:::-;545:2;530:18;;524:25;495:5;;-1:-1:-1;558:52:66;524:25;558:52;:::i;:::-;629:7;619:17;;;169:473;;;;;:::o;647:127::-;353:1722:26;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x608060405234801561001057600080fd5b50600436106100625760003560e01c8063276598a0146100675780634ce37be9146100715780634e69d560146100a15780637dc0d1d0146100b4578063d849e94f146100c7578063e4020804146100cf575b600080fd5b61006f6100e7565b005b600154610084906001600160a01b031681565b6040516001600160a01b0390911681526020015b60405180910390f35b60025460ff166040516100989190610326565b600054610084906001600160a01b031681565b61006f6102b2565b6100d76102bc565b6040519015158152602001610098565b600080546040805163cd905dff60e01b8152905183926001600160a01b03169163cd905dff9160048083019260209291908290030181865afa92505050801561014d575060408051601f3d908101601f1916820190925261014a9181019061033a565b60015b156101555791505b60018054604051602481019290925260009182916001600160a01b03169060440160408051601f198184030181529181526020820180516001600160e01b031663bc61e73360e01b179052516101ab9190610363565b600060405180830381855afa9150503d80600081146101e6576040519150601f19603f3d011682016040523d82523d6000602084013e6101eb565b606091505b50915091508180156101ff57506020815110155b1561021b5780806020019051810190610218919061033a565b92505b821561023a57600280546001919060ff191682805b021790555061025c565b836102515760028054819060ff1916600182610230565b6002805460ff191690555b4260038190556004805460ff191660011790556002546040517f881f547fae2c6c81a79b64f116928d8c615c5692a446d1040f1daa003eed6187926102a49260ff1691610392565b60405180910390a150505050565b6102ba6100e7565b565b60045460009060ff166102cf5750600190565b60006002805460ff16908111156102e8576102e86102ee565b14905090565b634e487b7160e01b600052602160045260246000fd5b6003811061032257634e487b7160e01b600052602160045260246000fd5b9052565b602081016103348284610304565b92915050565b60006020828403121561034c57600080fd5b8151801515811461035c57600080fd5b9392505050565b6000825160005b81811015610384576020818601810151858301520161036a565b506000920191825250919050565b604081016103a08285610304565b826020830152939250505056fea264697066735822122026fbfc6525c66d5ff6a3adf3c9d95ef06c78ca4f36936291b7749eeb8b0ab7d764736f6c634300081e0033","sourceMap":"353:1722:26:-:0;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;937:816;;;:::i;:::-;;438:37;;;;;-1:-1:-1;;;;;438:37:26;;;;;;-1:-1:-1;;;;;202:32:66;;;184:51;;172:2;157:18;438:37:26;;;;;;;;1983:90;2052:7;:14;;;1983:90;;;;;;:::i;401:31::-;;;;;-1:-1:-1;;;;;401:31:26;;;1759:64;;;:::i;1829:148::-;;;:::i;:::-;;;1223:14:66;;1216:22;1198:41;;1186:2;1171:18;1829:148:26;1058:187:66;937:816:26;978:16;1046:6;;:22;;;-1:-1:-1;;;1046:22:26;;;;978:16;;-1:-1:-1;;;;;1046:6:26;;:20;;:22;;;;;;;;;;;;;;:6;:22;;;;;;;;;;-1:-1:-1;1046:22:26;;;;;;;;-1:-1:-1;;1046:22:26;;;;;;;;;;;;:::i;:::-;;;1042:95;;;1115:2;-1:-1:-1;1042:95:26;1191:14;;;1231:45;;;;;1684:36:66;;;;1148:12:26;;;;-1:-1:-1;;;;;1191:14:26;;1657:18:66;;1231:45:26;;;-1:-1:-1;;1231:45:26;;;;;;;;;;;;;;-1:-1:-1;;;;;1231:45:26;-1:-1:-1;;;1231:45:26;;;1183:103;;;1231:45;1183:103;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;1147:139;;;;1300:7;:28;;;;;1326:2;1311:4;:11;:17;;1300:28;1296:92;;;1364:4;1353:24;;;;;;;;;;;;:::i;:::-;1344:33;;1296:92;1402:6;1398:207;;;1424:7;:30;;1441:13;;1424:7;-1:-1:-1;;1424:30:26;1441:13;;1424:30;;;;;;1398:207;;;1476:11;1471:134;;1520:12;1503:29;;1520:12;;-1:-1:-1;;1503:29:26;;1520:12;1503:29;;1471:134;1563:7;:31;;-1:-1:-1;;1563:31:26;;;1471:134;1636:15;1615:18;:36;;;1661:14;:21;;-1:-1:-1;;1661:21:26;1615:18;1661:21;;;1615:7;1711:14;1697:49;;;;;;1661:21;1711:14;;1697:49;:::i;:::-;;;;;;;;968:785;;;;937:816::o;1759:64::-;1802:14;:12;:14::i;:::-;1759:64::o;1829:148::-;1894:14;;1873:4;;1894:14;;1889:32;;-1:-1:-1;1917:4:26;;1829:148::o;1889:32::-;1956:14;1938:7;:14;;;;;:32;;;;;;;:::i;:::-;;1931:39;;1829:148;:::o;246:127:66:-;307:10;302:3;298:20;295:1;288:31;338:4;335:1;328:15;362:4;359:1;352:15;378:234;456:1;449:5;446:12;436:143;;501:10;496:3;492:20;489:1;482:31;536:4;533:1;526:15;564:4;561:1;554:15;436:143;588:18;;378:234::o;617:202::-;760:2;745:18;;772:41;749:9;795:6;772:41;:::i;:::-;617:202;;;;:::o;1250:277::-;1317:6;1370:2;1358:9;1349:7;1345:23;1341:32;1338:52;;;1386:1;1383;1376:12;1338:52;1418:9;1412:16;1471:5;1464:13;1457:21;1450:5;1447:32;1437:60;;1493:1;1490;1483:12;1437:60;1516:5;1250:277;-1:-1:-1;;;1250:277:66:o;1731:412::-;1860:3;1898:6;1892:13;1923:1;1933:129;1947:6;1944:1;1941:13;1933:129;;;2045:4;2029:14;;;2025:25;;2019:32;2006:11;;;1999:53;1962:12;1933:129;;;-1:-1:-1;2117:1:66;2081:16;;2106:13;;;-1:-1:-1;2081:16:66;1731:412;-1:-1:-1;1731:412:66:o;2148:273::-;2319:2;2304:18;;2331:41;2308:9;2354:6;2331:41;:::i;:::-;2408:6;2403:2;2392:9;2388:18;2381:34;2148:273;;;;;:::o","linkReferences":{}},"methodIdentifiers":{"getStatus()":"4e69d560","isHealthy()":"e4020804","oracle()":"7dc0d1d0","refreshState()":"d849e94f","safetyAutomata()":"4ce37be9","updateHealth()":"276598a0"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.30+commit.73712a01\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"contract IOracleAggregator\",\"name\":\"_oracle\",\"type\":\"address\"},{\"internalType\":\"contract ISafetyAutomata\",\"name\":\"_safety\",\"type\":\"address\"}],\"stateMutability\":\"nonpayable\",\"type\":\"constructor\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":false,\"internalType\":\"enum IOracleWatcher.Status\",\"name\":\"status\",\"type\":\"uint8\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"name\":\"HealthUpdated\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"getStatus\",\"outputs\":[{\"internalType\":\"enum IOracleWatcher.Status\",\"name\":\"\",\"type\":\"uint8\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"isHealthy\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"oracle\",\"outputs\":[{\"internalType\":\"contract IOracleAggregator\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"refreshState\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"safetyAutomata\",\"outputs\":[{\"internalType\":\"contract ISafetyAutomata\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[],\"name\":\"updateHealth\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"kind\":\"dev\",\"methods\":{},\"title\":\"OracleWatcher\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"getStatus()\":{\"notice\":\"Returns the latest health status (Healthy, Paused, or Stale).\"},\"isHealthy()\":{\"notice\":\"Returns true if the system is currently healthy.\"}},\"notice\":\"Monitors Oracle and SafetyAutomata health state and reports operational status.\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"contracts/oracle/OracleWatcher.sol\":\"OracleWatcher\"},\"evmVersion\":\"paris\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":200},\"remappings\":[\":@openzeppelin/=lib/openzeppelin-contracts/\",\":erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/\",\":forge-std/=lib/forge-std/src/\",\":halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/\",\":openzeppelin-contracts/=lib/openzeppelin-contracts/\"]},\"sources\":{\"contracts/interfaces/IOracleAggregator.sol\":{\"keccak256\":\"0xa5effde0ec856a558063b682dcbb78ebb668f5cb98621772735a12e37090c19a\",\"license\":\"AGPL-3.0\",\"urls\":[\"bzz-raw://3b93f03fd6a73f4d65a085ee2a817204ab30eab9820950341905aa81bd13f6f3\",\"dweb:/ipfs/QmQLRFQzVJ3wJxZdMapJfnLdcRuuy3KeVvDxoYjF819yNy\"]},\"contracts/interfaces/IOracleWatcher.sol\":{\"keccak256\":\"0xa09c0c0e04d4fe5efeb4064830ef033656aefc80a0dc8997e42ed2eed692e6e4\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://b2018cc19502524183fa03ee0a409a05d5f6a61ebe1161e4a983e2bb09b10d48\",\"dweb:/ipfs/QmRqMRK7kkncQMGre7TbYxQEhS1yUJ2Gcis2FcBVEQSKUS\"]},\"contracts/interfaces/ISafetyAutomata.sol\":{\"keccak256\":\"0x627ee24e7e8f3cf04e7a0204bc547b8438ad8de937609d052f1bfacb81b47073\",\"license\":\"AGPL-3.0\",\"urls\":[\"bzz-raw://6bd786b22ccd8713e03719d00ba69b56bdef915cc5c5f158e4b42374e3f7b8c6\",\"dweb:/ipfs/Qmdu2jHiGA1tnbjmNwx3fs52WAk4boyb4iEJnyoaQKeHT5\"]},\"contracts/oracle/OracleWatcher.sol\":{\"keccak256\":\"0x14a318a7c9dfc9a9b48f0f89f017cbc2b16fd26b40a7fded972a655876062bcd\",\"urls\":[\"bzz-raw://5259b74e3b062bcd90a84db76526009f8b1c13758be68f1d9c4493b543a86293\",\"dweb:/ipfs/QmacA8F8pPLZcm9W6WPHwAmw9ihLV58sniTMMB8n7iw8G1\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.30+commit.73712a01"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"contract IOracleAggregator","name":"_oracle","type":"address"},{"internalType":"contract ISafetyAutomata","name":"_safety","type":"address"}],"stateMutability":"nonpayable","type":"constructor"},{"inputs":[{"internalType":"enum IOracleWatcher.Status","name":"status","type":"uint8","indexed":false},{"internalType":"uint256","name":"timestamp","type":"uint256","indexed":false}],"type":"event","name":"HealthUpdated","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"getStatus","outputs":[{"internalType":"enum IOracleWatcher.Status","name":"","type":"uint8"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"isHealthy","outputs":[{"internalType":"bool","name":"","type":"bool"}]},{"inputs":[],"stateMutability":"view","type":"function","name":"oracle","outputs":[{"internalType":"contract IOracleAggregator","name":"","type":"address"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"refreshState"},{"inputs":[],"stateMutability":"view","type":"function","name":"safetyAutomata","outputs":[{"internalType":"contract ISafetyAutomata","name":"","type":"address"}]},{"inputs":[],"stateMutability":"nonpayable","type":"function","name":"updateHealth"}],"devdoc":{"kind":"dev","methods":{},"version":1},"userdoc":{"kind":"user","methods":{"getStatus()":{"notice":"Returns the latest health status (Healthy, Paused, or Stale)."},"isHealthy()":{"notice":"Returns true if the system is currently healthy."}},"version":1}},"settings":{"remappings":["@openzeppelin/=lib/openzeppelin-contracts/","erc4626-tests/=lib/openzeppelin-contracts/lib/erc4626-tests/","forge-std/=lib/forge-std/src/","halmos-cheatcodes/=lib/openzeppelin-contracts/lib/halmos-cheatcodes/src/","openzeppelin-contracts/=lib/openzeppelin-contracts/"],"optimizer":{"enabled":true,"runs":200},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"contracts/oracle/OracleWatcher.sol":"OracleWatcher"},"evmVersion":"paris","libraries":{}},"sources":{"contracts/interfaces/IOracleAggregator.sol":{"keccak256":"0xa5effde0ec856a558063b682dcbb78ebb668f5cb98621772735a12e37090c19a","urls":["bzz-raw://3b93f03fd6a73f4d65a085ee2a817204ab30eab9820950341905aa81bd13f6f3","dweb:/ipfs/QmQLRFQzVJ3wJxZdMapJfnLdcRuuy3KeVvDxoYjF819yNy"],"license":"AGPL-3.0"},"contracts/interfaces/IOracleWatcher.sol":{"keccak256":"0xa09c0c0e04d4fe5efeb4064830ef033656aefc80a0dc8997e42ed2eed692e6e4","urls":["bzz-raw://b2018cc19502524183fa03ee0a409a05d5f6a61ebe1161e4a983e2bb09b10d48","dweb:/ipfs/QmRqMRK7kkncQMGre7TbYxQEhS1yUJ2Gcis2FcBVEQSKUS"],"license":"MIT"},"contracts/interfaces/ISafetyAutomata.sol":{"keccak256":"0x627ee24e7e8f3cf04e7a0204bc547b8438ad8de937609d052f1bfacb81b47073","urls":["bzz-raw://6bd786b22ccd8713e03719d00ba69b56bdef915cc5c5f158e4b42374e3f7b8c6","dweb:/ipfs/Qmdu2jHiGA1tnbjmNwx3fs52WAk4boyb4iEJnyoaQKeHT5"],"license":"AGPL-3.0"},"contracts/oracle/OracleWatcher.sol":{"keccak256":"0x14a318a7c9dfc9a9b48f0f89f017cbc2b16fd26b40a7fded972a655876062bcd","urls":["bzz-raw://5259b74e3b062bcd90a84db76526009f8b1c13758be68f1d9c4493b543a86293","dweb:/ipfs/QmacA8F8pPLZcm9W6WPHwAmw9ihLV58sniTMMB8n7iw8G1"],"license":null}},"version":1},"id":26}